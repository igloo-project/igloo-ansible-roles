httpd_https_domain_redirect: "{{ httpd_server_name }}"
httpd_step_configuration: yes
httpd_step_install: yes
# override so that role do not created a vhost file
# httpd_manage_vhost_configuration: true

_httpd_application_name: "{{ httpd_application_name }}"
_httpd_context_name: "{{ httpd_context_name | default('') }}"
_httpd_documentroot: "{{ httpd_documentroot }}"
_httpd_ajp_port: "{{ httpd_ajp_port | default(8009) }}"

# this path is used to override API-type endpoints settings
# (like ProxyErrorOverride Off)
_httpd_api_endpoint: "{{ httpd_api_endpoint | default('/api') }}"
_httpd_conf_http_rewrites: "{{ httpd_conf_http_rewrites | default(_httpd_conf_http_rewrites_default) }}"
_httpd_conf_https_rewrites: "{{ httpd_conf_https_rewrites | default(_httpd_conf_https_rewrites_default) }}"

_httpd_ssl_certificate: "{{ httpd_ssl_certificate }}"
_httpd_ssl_key: "{{ httpd_ssl_key }}"
_httpd_ssl_cacertificate: "{{ httpd_ssl_cacertificate | default(None) }}"

_httpd_configuration_folder: "{{ _httpd_configuration_folder_distro | distro(vars) }}"
_httpd_configuration_folder_distro:
  RedHat: /etc/httpd/conf.d
  Debian: /etc/apache2/sites-enabled

_httpd_service: "{{ _httpd_service_distro | distro(vars) }}"
_httpd_service_distro:
  RedHat: httpd
  Debian: apache2

_httpd_packages:
  RedHat:
    - httpd
    - httpd-tools
    - mod_ssl
  Debian:
    - apache2

_httpd_conf_http_rewrites_default: |
  RewriteEngine On
  RewriteRule .* https://%{SERVER_NAME}%{REQUEST_URI} [R,L]

_httpd_conf_https_rewrites_default: ""
 
_httpd_handlers_inhibited: "{{ handlers_inhibited | default(False) or httpd_handlers_inhibited | default(False) }}"
